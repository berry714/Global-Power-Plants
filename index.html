<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Power Plants Map</title>
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            height: 100%;
        }
        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            height: 100vh;
        }
        #sidebar {
            position: fixed;
            width: 30%;
            max-width: 400px;
            height: 100%;
            top: 0;
            left: -400px;
            overflow-y: auto;
            background: #f9f9f9;
            z-index: 4;
            transition: left 0.5s;
            padding: 20px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }
        #sidebar.visible {
            left: 0;
        }
        #sidebar a {
            color: #007bff;
            text-decoration: none;
        }
        #sidebar a:hover {
            text-decoration: underline;
        }
        #fuel-type-filter {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }
        #slider-container {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            z-index: 3;
        }
        #legend {
            display: none;
            position: absolute;
            top: 50px;
            right: 50px;
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            z-index: 3;
            width: 150px;
            height: 370px;
        }
        #legend h4 {
            margin: 0 0 10px 0;
            font-size: 16px;
            font-weight: bold;
            color: #333;
        }
        #legend div {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        #legend span {
            width: 24px;
            height: 12px;
            display: inline-block;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div id="sidebar">
        <button onclick="toggleSidebar()" style="margin:10px;">Close</button>
        <!-- Information about the power plant will be displayed here -->
    </div>
    <button id="toggle-legend-btn" style="position: absolute; top: 15px; right: 50px; z-index: 5;">Toggle Legend</button>
    <div id="fuel-type-filter">
        <select id="fuel-type-selector">
            <option value="all">All Fuel Types</option>
            <option value="Biomass">Biomass</option>
            <option value="Coal">Coal</option>
            <option value="Cogeneration">Cogeneration</option>
            <option value="Gas">Gas</option>
            <option value="Geothermal">Geothermal</option>
            <option value="Hydro">Hydro</option>
            <option value="Nuclear">Nuclear</option>
            <option value="Oil">Oil</option>
            <option value="Petcoke">Petcoke</option>
            <option value="Solar">Solar</option>
            <option value="Storage">Storage</option>
            <option value="Waste">Waste</option>
            <option value="Wave and Tidal">Wave and Tidal</option>
            <option value="Wind">Wind</option>
            <option value="Other">Other</option>
        </select>
    </div>

    <div id="map"></div>
    
    <div id="slider-container">
        <input type="range" id="capacity-slider" min="0" max="10000" step="10" value="0">
        <p>Minimum Capacity: <span id="capacity-value">0</span> MW</p>
    </div>  
    <div id="legend" style="position: absolute; bottom: 50px; right: 50px; background: white; padding: 10px; border-radius: 5px; z-index: 3;">
        <h4>Primary Fuel Type</h4>
        <div><span style="background-color: #006400; width: 24px; height: 12px; display: inline-block;"></span> Biomass</div>
        <div><span style="background-color: #6f7d8b; width: 24px; height: 12px; display: inline-block;"></span> Coal</div>
        <div><span style="background-color: #008080; width: 24px; height: 12px; display: inline-block;"></span> Cogeneration</div>
        <div><span style="background-color: #87CEEB; width: 24px; height: 12px; display: inline-block;"></span> Gas</div>
        <div><span style="background-color: #800080; width: 24px; height: 12px; display: inline-block;"></span> Geothermal</div>
        <div><span style="background-color: #0000CD; width: 24px; height: 12px; display: inline-block;"></span> Hydro</div>
        <div><span style="background-color: #8fa833; width: 24px; height: 12px; display: inline-block;"></span> Nuclear</div>
        <div><span style="background-color: #000000; width: 24px; height: 12px; display: inline-block;"></span> Oil</div>
        <div><span style="background-color: #36454F; width: 24px; height: 12px; display: inline-block;"></span> Petcoke</div>
        <div><span style="background-color: #FFD700; width: 24px; height: 12px; display: inline-block;"></span> Solar</div>
        <div><span style="background-color: #fb95ff; width: 24px; height: 12px; display: inline-block;"></span> Storage</div>
        <div><span style="background-color: #8B4513; width: 24px; height: 12px; display: inline-block;"></span> Waste</div>
        <div><span style="background-color: #00FFFF; width: 24px; height: 12px; display: inline-block;"></span> Wave and Tidal</div>
        <div><span style="background-color: #FF7F50; width: 24px; height: 12px; display: inline-block;"></span> Wind</div>
        <div><span style="background-color: #b61e2b; width: 24px; height: 12px; display: inline-block;"></span> Other</div>
    </div> 
    <script src="app.js"></script>
</body>
</html>